<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Linux on 江 Blog</title>
    <link>https://bopjiang.github.io/tags/linux/</link>
    <description>Recent content in Linux on 江 Blog</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Thu, 01 Oct 2015 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://bopjiang.github.io/tags/linux/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>《Raspberry Pi入门指南》读书笔记</title>
      <link>https://bopjiang.github.io/post/2015/10/01/raspberry-pi%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</link>
      <pubDate>Thu, 01 Oct 2015 00:00:00 +0000</pubDate>
      <guid>https://bopjiang.github.io/post/2015/10/01/raspberry-pi%E5%85%A5%E9%97%A8%E6%8C%87%E5%8D%97%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/</guid>
      <description>&lt;p&gt;Raspberry Pi 入手两年了，除了装过XMBC看电视外，基本没怎么用了。偶然在图书馆发现这本&lt;a href=&#34;http://book.douban.com/subject/26336217/&#34;&gt;&amp;laquo;Raspberry Pi入门指南&amp;raquo;&lt;/a&gt;，作为入门读物还是不错的。&lt;/p&gt;&#xA;&lt;p&gt;简单摘要下：&lt;/p&gt;&#xA;&lt;h3 id=&#34;模块&#34;&gt;模块&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;CSI接口(Camera Serial Interface), 摄像头&#xA;淘宝上有大把&lt;/li&gt;&#xA;&lt;li&gt;DSI接口(Display Serial Interface)&lt;/li&gt;&#xA;&lt;li&gt;GPIO 作为单片机驱动外围设备&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;使用场景&#34;&gt;使用场景&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;BT下载器&#xA;使用aria2(&lt;a href=&#34;http://aria2.sourceforge.net/&#34;&gt;http://aria2.sourceforge.net/&lt;/a&gt;)&#xA;在chrome中使用Yaaw插件（Yet Another Aria2 Web）, 使用aria2提供的JSON RPC接口远程控制&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;XBMC&#xA;介绍的XBian&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;文件服务器samba&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;gpio编程&#34;&gt;GPIO编程&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;控制LED灯闪烁&#xA;面包板，杜邦线(跳线), LED灯&#xA;&lt;ul&gt;&#xA;&lt;li&gt;SHELL/BASH控制， 操作文件&lt;/li&gt;&#xA;&lt;li&gt;Python,使用RPi.GPIO包&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;温度传感器&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;图像处理&#34;&gt;图像处理&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;CSI&lt;/li&gt;&#xA;&lt;li&gt;USB口WebCam&#xA;罗技C270WebCam，720P&#xA;&lt;ul&gt;&#xA;&lt;li&gt;luvcview实时看视频流&lt;/li&gt;&#xA;&lt;li&gt;uvccapeture截图&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;其他软件&#xA;&lt;ul&gt;&#xA;&lt;li&gt;motion&lt;/li&gt;&#xA;&lt;li&gt;python:SimpleCV&#xA;Haar Cascade哈尔分类，面部识别&#xA;2013-08: SimpleCV暂时还不能从CSI取视频&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;arduino开源电子原型平台&#34;&gt;Arduino开源电子原型平台&lt;/h3&gt;&#xA;&lt;p&gt;使用USB与Pi相连， 串口通信&lt;/p&gt;&#xA;&lt;p&gt;python中import serial&lt;/p&gt;&#xA;&lt;h3 id=&#34;raspberry-pi-2&#34;&gt;Raspberry Pi 2&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;新出的Raspberry Pi升级版本Raspberry Pi 2 ，可跑“官方精简版” Ubuntu Core&lt;/li&gt;&#xA;&lt;li&gt;建议使用lxde图形界面（和debian类似）， 安装xrdp支持windows上使用远程桌面连接&lt;/li&gt;&#xA;&lt;li&gt;听说可可运行win10&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
    <item>
      <title>Ubuntu 14.04 Emacs24问题汇总</title>
      <link>https://bopjiang.github.io/post/2015/01/20/ubuntu-14.04-emacs24%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/</link>
      <pubDate>Tue, 20 Jan 2015 00:00:00 +0000</pubDate>
      <guid>https://bopjiang.github.io/post/2015/01/20/ubuntu-14.04-emacs24%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/</guid>
      <description>&lt;p&gt;工作环境升级到Ubuntu14.04下，Emacs也升级到了24.3.1, 一些问题汇总如下：&lt;/p&gt;&#xA;&lt;h3 id=&#34;中文无法输入&#34;&gt;中文无法输入&lt;/h3&gt;&#xA;&lt;p&gt;我用的fcitx，只要做一件事情，确保启动Emacs的时候locale为中文,就可以在Emacs下输入中文&lt;/p&gt;&#xA;&lt;p&gt;Emacs图形界面启动使用的是emacs24-x, 先改名&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ sudo mv /usr/bin/emacs24-x /usr/bin/emacs24-x_behind&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;然后添加同名脚本文件:&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ echo /usr/bin/emacs24-x&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;LC_CTYPE&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;zh_CN.UTF-8&amp;#39;&lt;/span&gt; emacs24-x_behind&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;常用插件&#34;&gt;常用插件&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;插件管理&lt;/p&gt;&#xA;&lt;p&gt;默认用使ELPA，可以自己增加MELPA， 参考 &lt;a href=&#34;http://ergoemacs.org/emacs/emacs_package_system.html&#34;&gt;1&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;添加下述至~/.emacs开始，并重启emacs&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-lisp&#34; data-lang=&#34;lisp&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;(when (&lt;span style=&#34;color:#a6e22e&#34;&gt;&amp;gt;=&lt;/span&gt; emacs-major-version &lt;span style=&#34;color:#ae81ff&#34;&gt;24&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  (&lt;span style=&#34;color:#a6e22e&#34;&gt;require&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;package&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  (package-initialize)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  (add-to-list &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;package-archives&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;&amp;#39;&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;melpa&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;.&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;http://melpa.milkbox.net/packages/&amp;#34;&lt;/span&gt;) &lt;span style=&#34;color:#66d9ef&#34;&gt;t&lt;/span&gt;)&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  )&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;运行list-package就能看到了&lt;/p&gt;&#xA;&lt;p&gt;下面插件，MELPA中都有&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;markdown-mode&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;yaml-mode&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
    <item>
      <title>Unix哲学</title>
      <link>https://bopjiang.github.io/post/2015/01/02/unix%E5%93%B2%E5%AD%A6/</link>
      <pubDate>Fri, 02 Jan 2015 00:00:00 +0000</pubDate>
      <guid>https://bopjiang.github.io/post/2015/01/02/unix%E5%93%B2%E5%AD%A6/</guid>
      <description>&lt;p&gt;所谓道的东西，大概只能参悟，不是言语能表达的。&lt;/p&gt;&#xA;&lt;p&gt;下面几篇文章,值得细细品味。&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://book.douban.com/subject/5387401/&#34;&gt;Unix编程艺术&lt;/a&gt;，最后一章&lt;a href=&#34;http://i.linuxtoy.org/docs/guide/ch12.html&#34;&gt;《无根的根：无名师的 Unix 心传》&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;似乎用隐喻，很多道理能讲的更透彻。&lt;/p&gt;&#xA;&lt;p&gt;这本书的&lt;a href=&#34;http://www.faqs.org/docs/artu/&#34; title=&#34;The Art of Unix Programming&#34;&gt;英文版本&lt;/a&gt;是公开的，值得一看。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://coder.link-pub.cn/2012/09/14/UNIX-Hater.html&#34; title=&#34;uinx hater&#34;&gt;UNIX痛恨者手册&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;英文原版：&lt;a href=&#34;http://web.mit.edu/~simsong/www/ugh.pdf&#34;&gt;The UNIX-HATERS Handbook&lt;/a&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://book.douban.com/subject/7564417/&#34;&gt;Linux/Unix设计思想&lt;/a&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
    <item>
      <title>ssh一系列问题汇总</title>
      <link>https://bopjiang.github.io/post/2014/12/23/ssh%E4%B8%80%E7%B3%BB%E5%88%97%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/</link>
      <pubDate>Tue, 23 Dec 2014 00:00:00 +0000</pubDate>
      <guid>https://bopjiang.github.io/post/2014/12/23/ssh%E4%B8%80%E7%B3%BB%E5%88%97%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/</guid>
      <description>&lt;h4 id=&#34;ssh登录慢&#34;&gt;ssh登录慢&lt;/h4&gt;&#xA;&lt;p&gt;解决方案：关闭GSS认证&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;jj@sysadmin ~&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;$ cat ~/.ssh/config &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ServerAliveInterval &lt;span style=&#34;color:#ae81ff&#34;&gt;20&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GSSAPIAuthentication no&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;配置密钥登录&#34;&gt;配置密钥登录&lt;/h4&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;生成密钥&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ssh-keygen  -t rsa -C &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;your_email@youremail.com&amp;#34;&lt;/span&gt; &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;复制本地的公钥， 追加到远端的$HOME/.ssh/authorized_keys文件&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;必须保证要远端$HOME目录下:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;.ssh目录的权限必须是700&lt;/li&gt;&#xA;&lt;li&gt;.ssh/authorized_keys文件权限必须是600&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
    <item>
      <title>使用emacs进行golang编程</title>
      <link>https://bopjiang.github.io/post/2014/04/21/%E4%BD%BF%E7%94%A8emacs%E8%BF%9B%E8%A1%8Cgolang%E7%BC%96%E7%A8%8B/</link>
      <pubDate>Mon, 21 Apr 2014 00:00:00 +0000</pubDate>
      <guid>https://bopjiang.github.io/post/2014/04/21/%E4%BD%BF%E7%94%A8emacs%E8%BF%9B%E8%A1%8Cgolang%E7%BC%96%E7%A8%8B/</guid>
      <description>&lt;h3 id=&#34;环境&#34;&gt;环境&lt;/h3&gt;&#xA;&lt;p&gt;Ubuntu 12.04， Emacs 23, 中文输入法fcitx&lt;/p&gt;&#xA;&lt;h3 id=&#34;emacs配置&#34;&gt;Emacs配置&lt;/h3&gt;&#xA;&lt;p&gt;使用el-get管理Emacs插件甚是方便，具体见[1]&lt;/p&gt;&#xA;&lt;p&gt;Emacs需要安装的插件&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;el-get （下面的emacs插件都使用el-get-install安装）&lt;/li&gt;&#xA;&lt;li&gt;cscope (安装前要在系统安装cscope)&lt;/li&gt;&#xA;&lt;li&gt;go-mode&lt;/li&gt;&#xA;&lt;li&gt;ibus&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;中文输入法问题&#34;&gt;中文输入法问题&lt;/h3&gt;&#xA;&lt;p&gt;除了安装ibus，下面两个要注意：&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;apt-get安装python-xlib插件&lt;/li&gt;&#xA;&lt;li&gt;快捷键冲突：&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h3 id=&#34;建立代码索引&#34;&gt;建立代码索引&lt;/h3&gt;&#xA;&lt;p&gt;用下面的脚本：&lt;/p&gt;&#xA;&lt;script src=&#34;https://gist.github.com/bopjiang/11146574.js&#34;&gt;&lt;/script&gt;&#xA;&lt;h3 id=&#34;参考&#34;&gt;参考&lt;/h3&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;a href=&#34;http://www.cnblogs.com/A-Song/archive/2013/03/09/2951951.html&#34;&gt;http://www.cnblogs.com/A-Song/archive/2013/03/09/2951951.html&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;http://www.ibm.com/developerworks/cn/aix/library/au-sudo/index.html&#34;&gt;http://www.ibm.com/developerworks/cn/aix/library/au-sudo/index.html&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ol&gt;</description>
    </item>
    <item>
      <title>sudo 环境变量继承</title>
      <link>https://bopjiang.github.io/post/2014/04/01/sudo-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%BB%A7%E6%89%BF/</link>
      <pubDate>Tue, 01 Apr 2014 00:00:00 +0000</pubDate>
      <guid>https://bopjiang.github.io/post/2014/04/01/sudo-%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E7%BB%A7%E6%89%BF/</guid>
      <description>&lt;p&gt;修改sudo的配置文件：&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sudo visudo&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;将Defaults env_reset改成Defaults !env_reset,取消掉对PATH变量的重置。&lt;br/&gt;&lt;/p&gt;&#xA;&lt;p&gt;然后在.bashrc中最后添加&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;alias sudo&lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;sudo env PATH=$PATH&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这样sudo执行命令时所搜寻的路径就是系统的PATH变量中的路径，如想添加其他变量也是类似。&lt;/p&gt;&#xA;&lt;h4 id=&#34;参考&#34;&gt;参考&lt;/h4&gt;&#xA;&lt;ol&gt;&#xA;&lt;li&gt;&lt;a href=&#34;http://www.cnblogs.com/A-Song/archive/2013/03/09/2951951.html&#34;&gt;http://www.cnblogs.com/A-Song/archive/2013/03/09/2951951.html&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;http://www.ibm.com/developerworks/cn/aix/library/au-sudo/index.html&#34;&gt;http://www.ibm.com/developerworks/cn/aix/library/au-sudo/index.html&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ol&gt;</description>
    </item>
    <item>
      <title>NAT配置</title>
      <link>https://bopjiang.github.io/post/2014/03/27/nat%E9%85%8D%E7%BD%AE/</link>
      <pubDate>Thu, 27 Mar 2014 00:00:00 +0000</pubDate>
      <guid>https://bopjiang.github.io/post/2014/03/27/nat%E9%85%8D%E7%BD%AE/</guid>
      <description>&lt;p&gt;时隔10年，又搞了一回NAT配置，兼顾学习了下路由表知识。&lt;/p&gt;&#xA;&lt;h4 id=&#34;起因&#34;&gt;起因&lt;/h4&gt;&#xA;&lt;p&gt;分析某个移动APP的包协议&lt;/p&gt;&#xA;&lt;h4 id=&#34;预备知识&#34;&gt;预备知识&lt;/h4&gt;&#xA;&lt;p&gt;&lt;a href=&#34;http://www.rfc-editor.org/rfc/rfc3022.txt&#34;&gt;http://www.rfc-editor.org/rfc/rfc3022.txt&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h4 id=&#34;网络拓扑图&#34;&gt;网络拓扑图&lt;/h4&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-txt&#34; data-lang=&#34;txt&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       internet&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;         WIFI                  * &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          |                    *&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;          | wlan0              *                                        &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   +-----------------+ eth0    *    WAN +-----------------+&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   |  Test PC (NAT)  |------------------|  TP-Link Router |--- WIFI&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;   +-----------------+         *        +-----------------+     |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                               *                                | &#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                               *                                |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                               *                                |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&#x9;&#x9;&#x9;&#x9;              +-----------------+&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;      |  Android Phone  |&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                                                      +-----------------+&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;ip配置&#34;&gt;IP配置&lt;/h4&gt;&#xA;&lt;h6 id=&#34;test-pc&#34;&gt;Test PC&lt;/h6&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;wlan: 172.16.13.163/16&lt;/li&gt;&#xA;&lt;li&gt;gateway: 172.16.13.1&lt;/li&gt;&#xA;&lt;li&gt;eth0: 192.168.2.1/24&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h6 id=&#34;tp-link-router&#34;&gt;TP-Link Router&lt;/h6&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;WAN: 192.168.2.2/24&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;路由配置&#34;&gt;路由配置&lt;/h4&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;root@hp4400:~# route -n&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Kernel IP routing table&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Destination     Gateway         Genmask         Flags Metric Ref    Use Iface&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;0.0.0.0         172.16.13.163   0.0.0.0         UG    &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;      &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;        &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; eth0&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;169.254.0.0     0.0.0.0         255.255.0.0     U     &lt;span style=&#34;color:#ae81ff&#34;&gt;1000&lt;/span&gt;   &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;        &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; wlan0&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;172.16.0.0      0.0.0.0         255.255.0.0     U     &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;      &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;        &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; wlan0&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;172.16.13.163   0.0.0.0         255.255.255.255 UH    &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;      &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;        &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; eth0&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;192.168.2.0     0.0.0.0         255.255.255.0   U     &lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;      &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;        &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt; eth0&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;连接好网络后，Test PC反而不能上网。修改路由后才可以&lt;/p&gt;</description>
    </item>
    <item>
      <title>Linux与Windows间相互远程访问</title>
      <link>https://bopjiang.github.io/post/2014/03/26/linux%E4%B8%8Ewindows%E9%97%B4%E7%9B%B8%E4%BA%92%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE/</link>
      <pubDate>Wed, 26 Mar 2014 00:00:00 +0000</pubDate>
      <guid>https://bopjiang.github.io/post/2014/03/26/linux%E4%B8%8Ewindows%E9%97%B4%E7%9B%B8%E4%BA%92%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE/</guid>
      <description>&lt;h2 id=&#34;windows访问linux&#34;&gt;windows访问linux&lt;/h2&gt;&#xA;&lt;h4 id=&#34;ssh访问&#34;&gt;ssh访问&lt;/h4&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;putty&lt;/li&gt;&#xA;&lt;li&gt;xshell&lt;/li&gt;&#xA;&lt;li&gt;SecureCRT&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h4 id=&#34;图形界面&#34;&gt;图形界面&lt;/h4&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;TightVNC&#xA;（linux上面要装vncserver）&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;linux访问windows桌面&#34;&gt;linux访问windows桌面&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;remmina, The GTK+ Remote Desktop Client&lt;/li&gt;&#xA;&lt;li&gt;rdesktop&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;rdesktop -a &lt;span style=&#34;color:#ae81ff&#34;&gt;16&lt;/span&gt; 172.16.13.88:3389 -u jiangjia -g 1024*768 &#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;windows远程后，图形界面的关机按钮消失了，要关机必须命令行：&lt;/p&gt;&#xA;&lt;p&gt;关机(等待一分钟): shutdown -s&lt;/p&gt;&#xA;&lt;p&gt;重启: shutdown -r&lt;/p&gt;&#xA;&lt;p&gt;30s后关机: shutdown -s -t 30&lt;/p&gt;&#xA;&lt;p&gt;中止关机操作: shutdown – a&lt;/p&gt;&#xA;&lt;h2 id=&#34;遗留问题&#34;&gt;遗留问题&lt;/h2&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;remmina 远程没有声音问题&lt;/li&gt;&#xA;&lt;/ul&gt;</description>
    </item>
    <item>
      <title>分配给中国的IP有多少个</title>
      <link>https://bopjiang.github.io/post/2014/03/20/%E5%88%86%E9%85%8D%E7%BB%99%E4%B8%AD%E5%9B%BD%E7%9A%84ip%E6%9C%89%E5%A4%9A%E5%B0%91%E4%B8%AA/</link>
      <pubDate>Thu, 20 Mar 2014 00:00:00 +0000</pubDate>
      <guid>https://bopjiang.github.io/post/2014/03/20/%E5%88%86%E9%85%8D%E7%BB%99%E4%B8%AD%E5%9B%BD%E7%9A%84ip%E6%9C%89%E5%A4%9A%E5%B0%91%E4%B8%AA/</guid>
      <description>&lt;h2 id=&#34;获取全球ip地址分配列表&#34;&gt;获取全球IP地址分配列表&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl http://ftp.apnic.net/apnic/stats/apnic/delegated-apnic-latest -o iplist.txt&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;统计&#34;&gt;统计&lt;/h2&gt;&#xA;&lt;hr&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#f92672&#34;&gt;[&lt;/span&gt;jiangjia@houtaiceshi1 ipaddr&lt;span style=&#34;color:#f92672&#34;&gt;]&lt;/span&gt;$ cat  iplist.txt  |grep ipv4 |grep &lt;span style=&#34;color:#ae81ff&#34;&gt;\|&lt;/span&gt;CN&lt;span style=&#34;color:#ae81ff&#34;&gt;\|&lt;/span&gt; | cut -d &lt;span style=&#34;color:#ae81ff&#34;&gt;\|&lt;/span&gt; -f &lt;span style=&#34;color:#ae81ff&#34;&gt;5&lt;/span&gt; | awk &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;// {sum += $1};END {print sum}&amp;#39;&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;330410496&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;IP v4才3.3亿，难怪深圳联通ADSL宽带分配给我是个私网IP了，合同到期坚决换掉。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
